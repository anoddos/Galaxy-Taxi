@page "/account/offices"
@using GalaxyTaxi.Shared.Api.Models.OfficeManagement
@using GoogleMapsComponents;

<link rel="stylesheet" href="path-to-your-css-file.css">


<div class="wrapper">
    <div class="OfficeInfoContainer">
        <MudCard>
            <MudCardContent>
                <div class="OfficeLayout">
                    <div class="LeftSection">
                        <GoogleMap @ref="@map1" Options="@mapOptions"></GoogleMap>
                        <MudButton OnClick="AddMarker">Show Address Pin</MudButton>
                    </div>
                    <div class="RightSection">
                        <div class="OfficeFilterContainer">
                            <MudSelect T="OfficeInfo" Items="@_offices" Label="Office" Variant="Variant.Outlined" AnchorOrigin="Origin.BottomCenter"
                                       ValueChanged="@((OfficeInfo current) => OfficeValueChanged(current))">
                                <MudSelectItem T="OfficeInfo" Value="@(null)">[Add New Office]</MudSelectItem>
                                @foreach (var office in _offices)
                                {
                                    <MudSelectItem Value="@office">@office.Address.Name</MudSelectItem>
                                }
                            </MudSelect>
                        </div>

                        @if (showAlert)
                        {
                            <OperationResult Message="@alertMessage" AlertSeverity="@alertSeverity" OnAlertClosed="HandleAlertClosed" />
                        }
                        <MudTextField Label="Office Address" @bind-Value="OfficeFilter.Address.Name "
                                      Error="@(!OfficeFilter.Address.IsDetected)"
                                      ErrorText="@DetectedStatus" />
    
                        <MudTextField Label="Office Identification"  @bind-Value="OfficeFilter.OfficeIdentification" ReadOnly="@true"/>
                        <MudTimePicker Label="24 hours" Time="OfficeFilter.WorkingStartTime" TimeChanged="(e) => OfficeFilter.WorkingStartTime = (TimeSpan)e" />
                        <MudTimePicker Label="24 hours" Time="OfficeFilter.WorkingEndTime" TimeChanged="(e) => OfficeFilter.WorkingEndTime = (TimeSpan)e" />
                        <MudLink Style="margin-top: 15px; float: right" Href="@navigationLink">Number Of Employees : @OfficeFilter.NumberOfEmployees</MudLink>
                    </div>
                </div>
            </MudCardContent>
            <MudCardActions Style="float:right;">
                <MudButton OnClick="SaveChanges">Save Office Info</MudButton>
            </MudCardActions>
        </MudCard>
    </div>
</div>


<style>
.wrapper {
    display: flex;
    flex-direction: column; 
    height: 100vh;         
}

.OfficeInfoContainer {
    flex: 1;               
    padding: 15px;
    background-color: #fff;
}

.OfficeLayout {
    display: flex;
    flex-direction: row;
    height: 100%;
}

.LeftSection {
    flex: 1; 
    border-right: 1px solid #ccc; 
    padding-right: 15px;
}

.RightSection {
    flex: 1;
    padding-left: 15px;
}

</style>